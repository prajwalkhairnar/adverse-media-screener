This file, located in `docs/REPORT.md`, documents the required structure for the final, auditable screening report (Section 3.3). This structure is enforced by the `ScreeningResult` Pydantic model and is compiled by the `ReportGenerationNode`.

### `docs/REPORT.md`

```markdown
# Adverse Media Screening Report Standard (AMS-RS-1.0)

This document defines the required structure and content for the final Adverse Media Screening Report generated by the system. Every report must conform to this standard to ensure compliance, auditability, and clear decision-making.

---

## 1. Executive Summary and Final Decision

This section provides the overall conclusion based on the Name Matching and Sentiment Analysis steps.

### A. Screening Query
The original input used to initiate the screening.

| Field | Description | Example |
| :--- | :--- | :--- |
| **Name** | The person being screened. | `Jane Doe` |
| **Date of Birth** | DOB provided by the analyst (YYYY-MM-DD). | `1980-05-15` |
| **Article URL** | The source material screened. | `https://example.com/finance-fraud` |

### B. Final Decision
The definitive classification of the screening result.

| Field | Description | Possible Values |
| :--- | :--- | :--- |
| **Decision** | Final outcome of the screening workflow. | `MATCH`, `NO_MATCH`, `UNCERTAIN` |
| **Summary** | A 1-2 sentence LLM-generated summary of the reason for the decision. | `A high-confidence match was found, and the article contained clear evidence of negative sentiment and financial crime allegations.` |

---

## 2. Match Assessment

This section details the comparison between the query person and the best-matching entity found in the article, as determined by the `NameMatchingNode`.

### A. Matched Entity Details
The specific person entity from the article that generated the highest match probability.

| Field | Description | Source |
| :--- | :--- | :--- |
| **Full Name** | Exact name as extracted from the article. | Extraction |
| **Age / Age Range** | Age mentioned in the article (if applicable). | Extraction |
| **Context Snippet** | 1-2 sentences from the article providing context for this entity. | Extraction |

### B. Match Confidence
The LLM's structured assessment of the match quality.

| Field | Description | Possible Values |
| :--- | :--- | :--- |
| **Match Probability** | Numeric probability score (0.0 to 1.0). | `0.95` |
| **Confidence Level** | Categorical confidence. | `HIGH`, `MEDIUM`, `LOW` |
| **Rule-Based Check** | Result of the deterministic Age Alignment Verification (Section 6.2). | `MATCH`, `MISMATCH`, `UNCERTAIN` |

### C. Evidence Breakdown
Detailed lists of supporting/contradicting data points.

* **Supporting Evidence:** Explicit reasons the names align (e.g., exact name match, age alignment, matching location/occupation).
* **Contradicting Evidence:** Explicit reasons the names do not align (e.g., mismatched DOB/age, conflicting locations, differing middle names).
* **Reasoning Steps:** A step-by-step trace of the LLM's logical derivation for the confidence score.

---

## 3. Adverse Media and Sentiment Assessment

This section is only present if the Final Decision is **MATCH** or **UNCERTAIN**. It details the nature of the media coverage.

### A. Classification
The overall sentiment and severity of the article content.

| Field | Description | Possible Values |
| :--- | :--- | :--- |
| **Classification** | Overall tone of the article regarding the individual. | `POSITIVE`, `NEUTRAL`, `NEGATIVE` |
| **Is Adverse Media** | Boolean flag indicating if the content meets the criteria for adverse media. | `True`/`False` |
| **Severity** | The gravity of the adverse media content. | `HIGH`, `MEDIUM`, `LOW`, `N/A` |

### B. Indicators and Evidence

* **Adverse Indicators:** A list of specific risk categories identified (e.g., `Fraud`, `Money Laundering`, `Sanctions Violation`, `Corruption`).
* **Evidence Snippets:** Direct quotes from the article supporting the adverse media classification.
* **Reasoning:** The LLM's justification for the classification and severity based on the article text.

---

## 4. Article and Extracted Data

### A. Article Source Metadata
Data extracted by the `ArticleFetcher` utility.

* **Title:** Article title.
* **Source:** Publishing source (e.g., `Reuters`, `BBC`).
* **Publication Date:** Date of publication.
* **Language:** Language code (`en`, `es`, etc.).
* **Word Count:** Length of the extracted text content.

### B. All Extracted Entities
A full list of all `PersonEntity` objects extracted by the `EntityExtractionNode`, even those that were not the final match candidate.

---

## 5. Audit and Processing Metadata (Section 8.2)

This section ensures a complete audit trail for compliance and system maintenance.

### A. Run Details

| Field | Description | Example |
| :--- | :--- | :--- |
| **Timestamp** | UTC time when the screening run completed. | `2025-11-20T10:30:00.123456Z` |
| **Total Duration (ms)** | Total time taken for the entire workflow. | `4500 ms` |
| **Steps Completed** | Ordered list of all nodes successfully executed. | `['fetch_article', 'extract_entities', ...]` |
| **Errors Encountered** | Any exceptions or critical failures during the run. | `['Entity extraction failed: JSON parsing error']` |
| **Warnings** | Non-critical issues (e.g., failed date parsing, no entities found). | `['Could not parse date string: Oct 2023']` |

### B. LLM Usage and Cost Tracking

| Field | Description | Example |
| :--- | :--- | :--- |
| **LLM Provider** | The LLM used for the primary workflow. | `groq` |
| **LLM Model** | The specific model name used. | `llama-3.3-70b-versatile` |
| **Total Tokens** | Total prompt + completion tokens used across all LLM calls. | `15,450` |
| **Estimated Cost (USD)** | Total accumulated cost for the run. | `0.0125` |
| **LLM Calls Log** | A detailed, sequential list of every individual LLM call, including step, latency, and tokens (stored separately in the `ScreeningResult` object but referenced here). | *See `llm_calls`* |

---

## 6. FINAL HUMAN-READABLE REPORT (Raw Output)

This is the final, unstructured text block generated by the LLM in the last step, synthesizing all the structured data above into a cohesive narrative for the analyst.

```

\<FINAL\_REPORT\_TEXT\_GOES\_HERE\>

```
```